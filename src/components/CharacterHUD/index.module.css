.hud {
  width: 100px;
  height: 100px;
  position: relative;
  display: inline-block;
}

.svg {
  width: 100%;
  height: 100%;
  transform: rotate(-90deg);
}

.health {
  fill: none;
  stroke: var(--color-success);
  stroke-width: 10;
}

.castBar {
  fill: none;
  stroke: var(--color-accent);
  stroke-width: 5;
  stroke-dasharray: 251;
  stroke-dashoffset: calc(251 - (var(--cast-percent) / 100) * 251);
  transition: stroke-dashoffset 0.3s linear;
  transform-origin: 50% 50%;
}

.casting .castBar {
  animation: spin 2s linear infinite;
}

.castProgress .castBar {
  stroke: var(--color-accent);
}

.castComplete .castBar {
  stroke: var(--color-success);
  animation: none;
}

.lowHp .health {
  stroke: var(--color-danger);
  animation: lowHpPulse 1s infinite;
}

.effectPoisoned,
.effectBurning,
.effectShocked,
.effectFrozen,
.effectBlessed {
  animation: effectPulse 2s infinite;
}

.effectPoisoned {
  --effect-color: var(--overlay-poison);
}

.effectBurning {
  --effect-color: var(--overlay-burning);
}

.effectShocked {
  --effect-color: var(--overlay-shocked-blue);
}

.effectFrozen {
  --effect-color: var(--overlay-frozen);
}

.effectBlessed {
  --effect-color: var(--overlay-blessed);
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

@keyframes lowHpPulse {
  0%,
  100% {
    stroke-width: 10;
  }
  50% {
    stroke-width: 8;
  }
}

@keyframes effectPulse {
  0%,
  100% {
    box-shadow: 0 0 5px var(--effect-color);
  }
  50% {
    box-shadow: 0 0 15px var(--effect-color);
  }
}

@media (prefers-reduced-motion: reduce) {
  .casting .castBar,
  .lowHp .health,
  .effectPoisoned,
  .effectBurning,
  .effectShocked,
  .effectFrozen,
  .effectBlessed {
    animation: none;
    transition: none;
  }
}
